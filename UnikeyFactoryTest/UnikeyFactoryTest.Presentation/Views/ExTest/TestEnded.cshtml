@model UnikeyFactoryTest.Presentation.Models.DTO.AdministratedTestDto

<link href="~/Content/font-awesome.css" rel="stylesheet" />

@{
    int i = (Model.ResultScore * 100);
    int percentage = (i / Model.TotalScore);
}

<div id="renderDiv" class="container body-content">
    <div id="cover-spin"></div>
    <div id="mySidenav" class="sidenav">
        <a id="homeLogo" href="https://www.unikey.it"><img id="unikeyLogo" src="~/Content/ICONS/unikeyLogo.png" alt="UnikeyLogo"></a>
    </div>
    <nav class="navbar navbar-expand-lg navbar-light" style="border-radius: 15px 15px; background-color: #2F00FC;">
        <a class="navbar-brand">
            <img id="unikeyLogo" src="~/Content/ICONS/unikeyLogo.png" width="50" height="50" style="margin-right:10px" class="d-inline-block align-top" alt="UnikeyLogo">
            <label style="color:white; font-size:35px">Assesment Statistics</label>
        </a>
    </nav>
    <div class="container">
        <div class="row">
            <div class="col" style="padding-top:50px; text-align:left">
                <div class="container">
                    <strong><label style="font-size:20px">User:</label></strong>
                </div>
            </div>
            <div class="col" style="padding-top:50px; text-align:left">
                <div class="container">
                    <label style="font-size:20px">@Model.TestSubject</label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col" style="padding-top:50px; text-align:left">
                <div class="container">
                    <strong><label style="font-size:20px">Starting Date&Time:</label></strong>
                </div>
            </div>
            <div class="col" style="padding-top:50px; text-align:left">
                <div class="container">
                    <label style="font-size:20px">@Model.Date</label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col" style="padding-top:50px; text-align:left">
                <div class="container">
                    <strong><label style="font-size:20px">Timer:</label></strong>
                </div>
            </div>
            <div class="col" style="padding-top:50px; text-align:left">
                <div class="container">
                    <label style="font-size:20px">@Model.Timer.ToString(@"hh\:mm\:ss")</label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col" style="padding-top:60px; text-align:left">
                <div class="container">
                    <strong><label style="font-size:20px">Score(%):</label></strong>
                </div>
            </div>
            <div class="flex-wrapper col">
                <div class="single-chart" style="transform:scale(0.5)">
                    <svg id="circle" viewbox="0 0 36 36">
                        <path class="circle-bg"
                              d="M18 2.0845
                         a 15.9155 15.9155 0 0 1 0 31.831
                         a 15.9155 15.9155 0 0 1 0 -31.831" />
                        <path class="circle"
                              stroke-dasharray="@percentage, 100"
                              d="M18 2.0845
                         a 15.9155 15.9155 0 0 1 0 31.831
                         a 15.9155 15.9155 0 0 1 0 -31.831" />
                        <text x="18" y="20.35" class="percentage">@percentage%</text>
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <br />
</div>

<script>
    $("svg").addClass(function () {
        if (@percentage >= 75) {
            return "circular-chart green";
        }
        if (@percentage >= 50 && @percentage < 75) {
            return "circular-chart yellow";
        }
        if (@percentage >= 25 && @percentage < 50) {
            return "circular-chart orange";
        }
        if (@percentage < 25) {
            return "circular-chart red";
        }
    });
</script>